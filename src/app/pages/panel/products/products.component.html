<div class="products">
  <div class="w-9/12 mx-auto flex flex-col gap-3 md:w-1/3">
    <h1 class="text-center text-2xl">Produtos</h1>
    <input type="text" class="input-products" placeholder="Pesquisar produto..." [(ngModel)]="search" (keyup)="filterProducts()">
    <div class="w-full flex justify-between">
      <a href="/panel" class="btn">Início</a>
      <a href="https://makeart-catalog.netlify.app/" target="_blank" class="btn">Catálogo</a>
    </div>
  </div>

  <!--Table-->
  <div class="flex-1 overflow-auto text-lg md:text-base">
    <!--Header-->
    <div class="flex justify-between pb-2 mb-1 sticky top-0 z-40 bg-white shadow-md md:pb-4 md:mb-2">
      <div class="w-1/2 md:w-1/6">
        <b>Produto</b>
      </div>
      <div class="w-1/2 text-right md:w-1/6 md:text-left">
        <b>Marca</b>
      </div>
      <div  class="hidden md:block md:w-1/6">
        <b>Valor</b>
      </div>
      <div class="hidden md:block md:w-1/6">
        <b>Quantidade</b>
      </div>
      <div  class="hidden md:block md:w-1/6">
        <b>Vendidos</b>
      </div>
      <div  class="hidden md:block md:w-1/6">
        <b>Ações</b>
      </div>
    </div>
    
    <!--Body-->
    <div 
      *ngFor="let product of filteredData"
    >
      <div [ngClass]="
       product.amount - product.sales > 0 ? 'productAvailable' : 'productUnavailable'
      ">
        <div class="w-2/3 md:w-1/6">
          <a [routerLink]="['/panel/details', product._id]">{{product.product}}</a>
        </div>
        <div class="w-1/2 text-right md:w-1/6 md:text-left">
          <p>{{product.brand}}</p>
        </div>
        <div  class="hidden md:block md:w-1/6">
          <p>R${{product.price}}</p>
        </div>
        <div class="hidden md:block md:w-1/6">
          <p>{{product.amount}}</p>
        </div>
        <div  class="hidden md:block md:w-1/6">
          <p>{{product.sales}}</p>
        </div>
        <div class="hidden md:block md:w-1/6 text-slate-800 text-sm">
          <a class="btn-action mr-3 bg-yellow-400 hover:bg-yellow-300"
          [routerLink]="['/panel/edit-product', product._id]"
          >Editar</a>
          <button class="btn-action bg-red-500 hover:bg-red-400"
            (click)="deleteProduct(product._id)"     
          >Excluir</button>
        </div>
      </div>
    </div>
  </div>
</div>